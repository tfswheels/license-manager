# shopify.app.toml
name = "DigiKey HQ"
client_id = "5106276d12b769bee15b1016359e487c"
application_url = "https://digikeyhq.com"
embedded = true

[access_scopes]
# Core scopes - write_orders implicitly includes read_orders
# Fulfillment scopes:
#   - write_assigned_fulfillment_orders: For 3PL/fulfillment service locations
#   - write_merchant_managed_fulfillment_orders: For merchant locations (digital products!)
#   - read_merchant_managed_fulfillment_orders: To read merchant-managed fulfillment orders
# read_locations needed to query shop locations for fulfillment API
scopes = "read_products,read_customers,write_orders,write_assigned_fulfillment_orders,read_merchant_managed_fulfillment_orders,write_merchant_managed_fulfillment_orders,read_locations"

optional_scopes = []

[auth]
redirect_urls = [
  "https://api.digikeyhq.com/auth/callback"
]

[webhooks]
api_version = "2025-10"

# GDPR compliance webhooks - MUST use full HTTPS URLs
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request"]
uri = "https://api.digikeyhq.com/webhooks/gdpr/customers/data_request"

[[webhooks.subscriptions]]
compliance_topics = ["customers/redact"]
uri = "https://api.digikeyhq.com/webhooks/gdpr/customers/redact"

[[webhooks.subscriptions]]
compliance_topics = ["shop/redact"]
uri = "https://api.digikeyhq.com/webhooks/gdpr/shop/redact"

# Order webhooks
[[webhooks.subscriptions]]
topics = ["orders/create"]
uri = "https://api.digikeyhq.com/webhooks/orders/create"

[pos]
embedded = false